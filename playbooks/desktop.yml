---
- name: Desktop Environment Setup
  hosts: localhost
  become: false
  gather_facts: false

  vars:
    os_name: "{{ os | default('debian') | lower }}"
    ansible_facts:
      os_family: "{{ os_name }}"
    os_task_file: "{{ os_name }}.yml"

  roles:
    # Base display components
    - { role: xorg, tags: [xorg, desktop] }
    - { role: touchpad, tags: [touchpad, notebook] }

    # Desktop environment
    - { role: i3, tags: [i3, desktop] }
    - { role: autorandr, tags: [autorandr, desktop] }
    - { role: alacritty, tags: [alacritty, desktop] }
    - { role: ghostty, tags: [ghostty, desktop] }
    - { role: rofi, tags: [rofi, desktop] }
